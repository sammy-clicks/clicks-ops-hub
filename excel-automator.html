<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Finanzas — Clicks Ops Hub</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="nav">
  <div class="inner">
    <div class="brand"><span class="dot"></span><span>Clicks Ops Hub</span></div>
    <div class="links">
      <a class="btn primary" href="index.html">Home</a>
      <a class="btn coral" href="field-guide.html">Visitas</a>
      <a class="btn yellow" href="post-visit.html">Post‑Visita</a>
      <a class="btn neon" href="venue-board.html">Venues</a>
      <a class="btn cyan active" href="excel-automator.html">Finanzas</a>
      <a class="btn muted" href="files-vault.html">Archivos</a>
    </div>
  </div>
</div>
<div id="loginScreen" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:10000; align-items:center; justify-content:center;">
  <div style="background:#fff; padding:40px; border-radius:10px; box-shadow:0 0 20px rgba(0,0,0,0.5); max-width:400px; width:90%;">
    <h2 style="text-align:center; margin-bottom:20px; color:#333;">Clicks Ops Hub - Login</h2>
    <form id="loginForm">
      <div style="margin-bottom:15px;">
        <label for="username" style="display:block; margin-bottom:5px; color:#555;">Usuario:</label>
        <input type="text" id="username" style="width:100%; padding:10px; border:1px solid #ccc; border-radius:5px; font-size:16px;" required>
      </div>
      <div style="margin-bottom:20px;">
        <label for="password" style="display:block; margin-bottom:5px; color:#555;">Contraseña:</label>
        <input type="password" id="password" style="width:100%; padding:10px; border:1px solid #ccc; border-radius:5px; font-size:16px;" required>
      </div>
      <button type="submit" style="width:100%; padding:12px; background:#007bff; color:#fff; border:none; border-radius:5px; font-size:16px; cursor:pointer;">Iniciar Sesión</button>
    </form>
  </div>
</div>
<div class="wrap">
  <div class="card col-12">
    <h1>Finanzas — Clicks Ops Hub</h1>
  </div>
  <div style="height:12px"></div>
  
<div class="grid">
  <div class="card col-12" style="display:flex; flex-direction:column; align-items:center;">
    <div class="muted">Esta sección está en mantenimiento.</div>
  </div>
</div>

  <div style="height:16px"></div>
  <div class="small">Clicks LLC · Ops Hub interno</div>
</div>
<script>
function login() {
  document.getElementById('loginScreen').style.display = 'flex';
}
if(localStorage.getItem('loggedIn') !== 'true') {
  login();
}
// Simple client-side generator and logger for daily summaries
const SUMMARY_KEY = 'clicks_daily_summaries_v1';
function loadSummaries(){
  try{ return JSON.parse(localStorage.getItem(SUMMARY_KEY) || '[]'); }catch(e){ return []; }
}
function saveSummaries(arr){ localStorage.setItem(SUMMARY_KEY, JSON.stringify(arr)); }
function renderSummaries(){
  const log = document.getElementById('summaryLog');
  if(!log) return;
  const arr = loadSummaries().slice().reverse();
  if(arr.length === 0) { log.innerHTML = '<div class="mini">No hay resúmenes guardados aún.</div>'; return; }
  log.innerHTML = arr.map(s=> `<div style="border-bottom:1px solid rgba(255,255,255,0.03); padding:6px 0"><div class="mini">${s.ts}</div><div style="margin-top:4px">${s.text.replace(/\n/g,'<br>')}</div></div>`).join('');
}

document.addEventListener('DOMContentLoaded', ()=>{
  renderSummaries();
  const btn = document.getElementById('btnGenerateSummary');
  const status = document.getElementById('summaryStatus');
  btn?.addEventListener('click', ()=>{
    // Generate a mock summary. Replace this with real aggregation when available.
    const now = new Date();
    const ts = now.toLocaleString();
    const mockText = `Hoy: 5 visitados, 2 interesados, 1 firma pendiente.\nPendientes críticos:\n- Monostereo (falta firma)`;
    const arr = loadSummaries();
    arr.push({ ts, text: mockText });
    saveSummaries(arr);
    status.textContent = 'Resumen generado y guardado.';
    renderSummaries();
    setTimeout(()=>{ status.textContent = ''; }, 2500);
  });
  document.getElementById('loginForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const user = document.getElementById('username').value;
    const pass = document.getElementById('password').value;
    if(user === 'clicks' && pass === 'admin') {
      localStorage.setItem('loggedIn', 'true');
      document.getElementById('loginScreen').style.display = 'none';
    } else {
      alert('Credenciales incorrectas');
    }
  });
});
</script>
</body>
</html>
